[![Tests](https://github.com/tokarevsas31/ml_fastapi_tests/actions/workflows/python-app.yml/badge.svg)](https://github.com/tokarevsas31/ml_fastapi_tests/actions/workflows/python-app.yml)

# Документация FastAPI с моделью для анализа тональности текста

## Описание
Данное приложение создает API с использованием фреймворка FastAPI для анализа тональности текста. Приложение использует предобученную модель из библиотеки `transformers` для классификации текста на основе его тональности (например, положительная, отрицательная).

## Установка и запуск

Для работы приложения необходимо установить следующие зависимости:
- FastAPI
- `uvicorn` для запуска сервера
- `transformers` для использования предобученных моделей NLP
- `pydantic` для валидации данных

Вы можете установить все необходимые зависимости, используя `pip`:

```
pip install -r requirements.txt
```

Для запуска сервера используйте команду:

```
uvicorn main:app --reload
```

## Использование

После запуска сервера доступны следующие эндпоинты:

### `/`

GET-запрос к корневому адресу возвращает простое приветственное сообщение.

**Пример запроса:**

```
GET http://127.0.0.1:8000/
```

**Пример ответа:**

```json
{
  "message": "Hello World"
}
```

### `/predict/`

POST-запрос на этот адрес позволяет выполнить анализ тональности переданного текста.

Для использования необходимо отправить JSON с текстом для анализа в формате `{"text": "Ваш текст"}`.

**Пример запроса:**

```
POST http://127.0.0.1:8000/predict/
Content-Type: application/json

{
  "text": "Я люблю учиться"
}
```

**Пример ответа:**

```json
{
  "label": "POSITIVE",
  "score": 0.9998
}
```

## Модель

В приложении используется модель для анализа тональности из библиотеки `transformers`. Модель автоматически загружается при первом обращении и готова к использованию для классификации текста.

## Класс `Item`

Для валидации входных данных используется класс `Item`, который определен с использованием библиотеки `pydantic`. Этот класс описывает структуру данных, которая принимается на эндпоинт `/predict/`, с обязательным текстовым полем `text`.